@using Ofqual.Common.RegisterFrontend.Models.SearchViewModels;
@model SearchResultViewModel<QualificationListViewModel>

@{
    ViewData["Title"] = "Find a regulated qualification";
    var appliedFilters = (QualificationAppliedFilterModel)Model.AppliedFilters!;
}
<div class="govuk-grid-row">
    <div class="govuk-width-container">
        <h1 class="govuk-heading-l">Qualification search</h1>
        <p class="govuk-body">Select all the qualifications you want to compare.</p>

        <div class="app-search govuk-!-margin-bottom-4">
            <form action="searchresults" method="get" novalidate="">
                <div class="govuk-form-group">
                    <label class="govuk-label app-search__label govuk-label--s" for="title">
                        Search for a qualification
                    </label>
                    <input class="govuk-input app-search__input " id="title" name="title" type="search" value="@Model.Title">
                </div>
                <button class="govuk-button app-search__button" data-module="govuk-button">
                    Search
                </button>
            </form>
        </div>

        <hr class="govuk-section-break govuk-section-break--l govuk-section-break">

    </div>

    <div class="govuk-grid-column-one-third">
        <div class="app-filter__header">
            <div class="app-filter__header-title">
                <h2 class="govuk-heading-m">Filter</h2>
            </div>
            <div class="app-filter__header-action">
            </div>
        </div>
            <div class="app-filter__selected">
                <div class="app-filter__selected-heading">
                    <div class="app-filter__heading-title">
                        <h3 class="govuk-heading-m govuk-!-margin-bottom-1">Selected filters</h3>
                        <p class="govuk-body"><a class="govuk-link govuk-link--no-visited-state" href="#">Clear filters</a></p>
                    </div>
                </div>


                <h4 class="govuk-heading-s govuk-!-margin-bottom-0">Assessment method</h4>
                <ul class="app-filter-tags">

                    <li><a class="app-filter__tag" href="/applications/remove-cycle-filter/2022 to 2023"><span class="govuk-visually-hidden">Remove this filter</span> Portfolio of evidence</a></li>


                    <li><a class="app-filter__tag" href="/applications/remove-cycle-filter/_unchecked"><span class="govuk-visually-hidden">Remove this filter</span> Practical demonstration or<br> assignment</a></li>

                </ul>




                <h4 class="govuk-heading-s govuk-!-margin-bottom-0">Status</h4>
                <ul class="app-filter-tags">

                    <li><a class="app-filter__tag" href="#"><span class="govuk-visually-hidden">Remove this filter</span> Available</a></li>

                </ul>







                <h4 class="govuk-heading-s govuk-!-margin-bottom-0">Awarding organisation</h4>
                <ul class="app-filter-tags">

                    <li><a class="app-filter__tag" href="#"><span class="govuk-visually-hidden">Remove this filter</span> Pearson</a></li>

                </ul>



                <h4 class="govuk-heading-s govuk-!-margin-bottom-0">Sector subject area</h4>
                <ul class="app-filter-tags">

                    <li><a class="app-filter__tag" href="#"><span class="govuk-visually-hidden">Remove this filter</span> 7.2 – Warehousing and distribution</a></li>

                </ul>

            </div>
        <form id="qualificationsFilterForm" action="filters" method="get">
            <input type="hidden" id="title" name="title" value="@Model.Title">

            <div class="accordionExpander">
                <div class="accordionItem is-open">
                    <h3 class="accordionTitle is-open" id="availability">
                        <span class="govuk-visually-hidden">Select filters for </span>
                        <button class="accordionItem__button" type="button">Availability</button>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon" aria-hidden="true" focusable="false">
                            <path d="m225.84 414.16l256 256c16.683 16.683 43.691 16.683 60.331 0l256-256c16.683-16.683 16.683-43.691 0-60.331s-43.691-16.683-60.331 0l-225.84 225.84-225.84-225.84c-16.683-16.683-43.691-16.683-60.331 0s-16.683 43.691 0 60.331z">
                            </path>
                        </svg>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon--up" aria-hidden="true" focusable="false">
                            <path d="m798.16 609.84l-256-256c-16.683-16.683-43.691-16.683-60.331 0l-256 256c-16.683 16.683-16.683 43.691 0 60.331s43.691 16.683 60.331 0l225.84-225.84 225.84 225.84c16.683 16.683 43.691 16.683 60.331 0s16.683-43.691 0-60.331z">
                            </path>
                        </svg>
                    </h3>
                    <div class="accordionContent">
                        <div class="govuk-form-group">
                            <fieldset class="govuk-fieldset">
                                <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
                                    @{
                                        string available = "", notAwarded = "", notAvailable = "", notYetAvailable = "";
                                        @if (appliedFilters.Availability != null && appliedFilters.Availability.Any())
                                        {
                                            available = appliedFilters.Availability.Contains("Available to learners") ? "checked" : "";
                                            notAwarded = appliedFilters.Availability.Contains("No longer awarded") ? "checked" : "";
                                            notAvailable = appliedFilters.Availability.Contains("No longer available to new learners") ? "checked" : "";
                                            notYetAvailable = appliedFilters.Availability.Contains("Not yet available to learners") ? "checked" : "";
                                        }
                                    }

                                    <div class="govuk-checkboxes__item">
                                        <input class="govuk-checkboxes__input" id="availability_available" name="availability" type="checkbox" value="Available to learners" @available>
                                        <label class="govuk-label govuk-checkboxes__label" for="availability_available">
                                            Available to learners
                                        </label>
                                    </div>
                                    <div class="govuk-checkboxes__item">
                                        <input class="govuk-checkboxes__input" id="availability_nolongerawarded" name="availability" type="checkbox" value="No longer awarded" @notAwarded>
                                        <label class="govuk-label govuk-checkboxes__label" for="availability_nolongerawarded">
                                            No longer awarded
                                        </label>
                                    </div>
                                    <div class="govuk-checkboxes__item">
                                        <input class="govuk-checkboxes__input" id="availability_notavailabletonewlearners" name="availability" type="checkbox" value="No longer available to new learners" @notAvailable>
                                        <label class="govuk-label govuk-checkboxes__label" for="availability_notavailabletonewlearners">
                                            No longer available to new learners
                                        </label>
                                    </div>
                                    <div class="govuk-checkboxes__item">
                                        <input class="govuk-checkboxes__input" id="availability_notyetavailable" name="availability" type="checkbox" value="Not yet available to learners" @notYetAvailable>
                                        <label class="govuk-label govuk-checkboxes__label" for="availability_notyetavailable">
                                            Not yet available to learners
                                        </label>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>

            <div class="accordionExpander">
                <div class="accordionItem">
                    <h3 class="accordionTitle" id="qual-type">
                        <span class="govuk-visually-hidden">Select filters for </span>
                        <button class="accordionItem__button" type="button">Qualification type</button>
                        <div class="selected-counter"><span id="selected">0</span> selected</div>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon" aria-hidden="true" focusable="false">
                            <path d="m225.84 414.16l256 256c16.683 16.683 43.691 16.683 60.331 0l256-256c16.683-16.683 16.683-43.691 0-60.331s-43.691-16.683-60.331 0l-225.84 225.84-225.84-225.84c-16.683-16.683-43.691-16.683-60.331 0s-16.683 43.691 0 60.331z">
                            </path>
                        </svg>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon--up" aria-hidden="true" focusable="false">
                            <path d="m798.16 609.84l-256-256c-16.683-16.683-43.691-16.683-60.331 0l-256 256c-16.683 16.683-16.683 43.691 0 60.331s43.691 16.683 60.331 0l225.84-225.84 225.84 225.84c16.683 16.683 43.691 16.683 60.331 0s16.683-43.691 0-60.331z">
                            </path>
                        </svg>
                    </h3>
                    <div class="accordionContent">
                        <div class="govuk-form-group">
                            <fieldset class="govuk-fieldset">
                                <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
                                    @foreach (var item in ((QualificationFilterModel)Model.Filters!).QualificationTypes!)
                                    {
                                        string qapplied = "";
                                        if (appliedFilters.QualificationTypes != null && appliedFilters.QualificationTypes.Any())
                                        {
                                            qapplied = appliedFilters.QualificationTypes.Contains(item) ? "checked" : "";
                                        }

                                        <div class="govuk-checkboxes__item">
                                            <input class="govuk-checkboxes__input" id="qualificationTypes_@item" name="qualificationTypes" type="checkbox" value="@item" @qapplied>
                                            <label class="govuk-label govuk-checkboxes__label" for="qualificationTypes_@item">
                                                @item
                                            </label>
                                        </div>
                                    }
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>

            <div class="accordionExpander">
                <div class="accordionItem">
                    <h3 class="accordionTitle" id="qualification-level">
                        <span class="govuk-visually-hidden">Select filters for </span>
                        <button class="accordionItem__button" type="button">Qualification level</button>
                        <div class="selected-counter"><span id="selected">0</span> selected</div>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon" aria-hidden="true" focusable="false">
                            <path d="m225.84 414.16l256 256c16.683 16.683 43.691 16.683 60.331 0l256-256c16.683-16.683 16.683-43.691 0-60.331s-43.691-16.683-60.331 0l-225.84 225.84-225.84-225.84c-16.683-16.683-43.691-16.683-60.331 0s-16.683 43.691 0 60.331z">
                            </path>
                        </svg>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon--up" aria-hidden="true" focusable="false">
                            <path d="m798.16 609.84l-256-256c-16.683-16.683-43.691-16.683-60.331 0l-256 256c-16.683 16.683-16.683 43.691 0 60.331s43.691 16.683 60.331 0l225.84-225.84 225.84 225.84c16.683 16.683 43.691 16.683 60.331 0s16.683-43.691 0-60.331z">
                            </path>
                        </svg>
                    </h3>
                    <div class="accordionContent">
                        <div class="govuk-form-group">
                            <fieldset class="govuk-fieldset">
                                <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
                                    @foreach (var item in ((QualificationFilterModel)Model.Filters!).QualificationLevels!)
                                    {
                                        string qlapplied = "";
                                        if (appliedFilters.QualificationLevels != null && appliedFilters.QualificationLevels.Any())
                                        {
                                            qlapplied = appliedFilters.QualificationLevels.Contains(item) ? "checked" : "";
                                        }

                                        <div class="govuk-checkboxes__item">
                                            <input class="govuk-checkboxes__input" id="qualificationLevels_@item" name="qualificationLevels" type="checkbox" value="@item" @qlapplied>
                                            <label class="govuk-label govuk-checkboxes__label" for="qualificationLevels_@item">
                                                @item
                                            </label>
                                        </div>
                                    }
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>

            <div class="accordionExpander">
                <div class="accordionItem">
                    <h3 class="accordionTitle" id="organisation">
                        <span class="govuk-visually-hidden">Select filters for </span><button class="accordionItem__button" type="button">Organisation</button>
                        <div class="selected-counter"><span id="selected">0</span> selected</div>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon" aria-hidden="true" focusable="false">
                            <path d="m225.84 414.16l256 256c16.683 16.683 43.691 16.683 60.331 0l256-256c16.683-16.683 16.683-43.691 0-60.331s-43.691-16.683-60.331 0l-225.84 225.84-225.84-225.84c-16.683-16.683-43.691-16.683-60.331 0s-16.683 43.691 0 60.331z">
                            </path>
                        </svg>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon--up" aria-hidden="true" focusable="false">
                            <path d="m798.16 609.84l-256-256c-16.683-16.683-43.691-16.683-60.331 0l-256 256c-16.683 16.683-16.683 43.691 0 60.331s43.691 16.683 60.331 0l225.84-225.84 225.84 225.84c16.683 16.683 43.691 16.683 60.331 0s16.683-43.691 0-60.331z">
                            </path>
                        </svg>
                    </h3>
                    <div class="accordionContent">
                        <div class="govuk-form-group">
                            <fieldset class="govuk-fieldset">
                                <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
                                    @foreach (var item in ((QualificationFilterModel)Model.Filters!).Organisations!)
                                    {
                                        string oapplied = "";
                                        if (appliedFilters.AwardingOrganisations != null && appliedFilters.AwardingOrganisations.Any())
                                        {
                                            oapplied = appliedFilters.AwardingOrganisations.Contains(item) ? "checked" : "";
                                        }
                                        <div class="govuk-checkboxes__item">
                                            <input class="govuk-checkboxes__input" id="awardingOrganisations_@item" name="awardingOrganisations" type="checkbox" value="@item" @oapplied>
                                            <label class="govuk-label govuk-checkboxes__label" for="awardingOrganisations_@item">
                                                @item
                                            </label>
                                        </div>
                                    }
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>

            <div class="accordionExpander">
                <div class="accordionItem">
                    <h3 class="accordionTitle" id="sector subject area">
                        <span class="govuk-visually-hidden">Select filters for </span><button class="accordionItem__button" type="button">Sector subject area</button>
                        <div class="selected-counter"><span id="selected">1</span> selected</div>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon" aria-hidden="true" focusable="false">
                            <path d="m225.84 414.16l256 256c16.683 16.683 43.691 16.683 60.331 0l256-256c16.683-16.683 16.683-43.691 0-60.331s-43.691-16.683-60.331 0l-225.84 225.84-225.84-225.84c-16.683-16.683-43.691-16.683-60.331 0s-16.683 43.691 0 60.331z">
                            </path>
                        </svg>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon--up" aria-hidden="true" focusable="false">
                            <path d="m798.16 609.84l-256-256c-16.683-16.683-43.691-16.683-60.331 0l-256 256c-16.683 16.683-16.683 43.691 0 60.331s43.691 16.683 60.331 0l225.84-225.84 225.84 225.84c16.683 16.683 43.691 16.683 60.331 0s16.683-43.691 0-60.331z">
                            </path>
                        </svg>
                    </h3>
                    <div class="accordionContent">
                        <div class="govuk-form-group">
                            <fieldset class="govuk-fieldset">
                                <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
                                    @foreach (var item in ((QualificationFilterModel)Model.Filters!).SSA!)
                                    {
                                        string ssaapplied = "";
                                        if (appliedFilters.SectorSubjectAreas != null && appliedFilters.SectorSubjectAreas.Any())
                                        {
                                            ssaapplied = appliedFilters.SectorSubjectAreas.Contains(item) ? "checked" : "";
                                        }
                                        <div class="govuk-checkboxes__item">
                                            <input class="govuk-checkboxes__input" id="sectorSubjectAreas_@item" name="sectorSubjectAreas" type="checkbox" value="@item" @ssaapplied>
                                            <label class="govuk-label govuk-checkboxes__label" for="sectorSubjectAreas_@item">
                                                @item
                                            </label>
                                        </div>
                                    }

                                </div>

                            </fieldset>

                        </div>

                    </div>
                </div>
            </div>

            <div class="accordionExpander">
                <div class="accordionItem">
                    <h3 class="accordionTitle" id="grading">
                        <span class="govuk-visually-hidden">Select filters for </span><button class="accordionItem__button" type="button">Grading type</button>
                        <div class="selected-counter"><span id="selected">0</span> selected</div>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon" aria-hidden="true" focusable="false">
                            <path d="m225.84 414.16l256 256c16.683 16.683 43.691 16.683 60.331 0l256-256c16.683-16.683 16.683-43.691 0-60.331s-43.691-16.683-60.331 0l-225.84 225.84-225.84-225.84c-16.683-16.683-43.691-16.683-60.331 0s-16.683 43.691 0 60.331z">
                            </path>
                        </svg>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon--up" aria-hidden="true" focusable="false">
                            <path d="m798.16 609.84l-256-256c-16.683-16.683-43.691-16.683-60.331 0l-256 256c-16.683 16.683-16.683 43.691 0 60.331s43.691 16.683 60.331 0l225.84-225.84 225.84 225.84c16.683 16.683 43.691 16.683 60.331 0s16.683-43.691 0-60.331z">
                            </path>
                        </svg>
                    </h3>
                    <div class="accordionContent">
                        <div class="govuk-form-group">
                            <fieldset class="govuk-fieldset">
                                <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">

                                    @{
                                        string graded = "", passfail = "";
                                        @if (appliedFilters.GradingTypes != null && appliedFilters.GradingTypes.Any())
                                        {
                                            graded = appliedFilters.GradingTypes.Contains("Graded") ? "checked" : "";
                                            passfail = appliedFilters.GradingTypes.Contains("Pass/Fail") ? "checked" : "";
                                        }

                                    }
                                    <div class="govuk-checkboxes__item">
                                        <input class="govuk-checkboxes__input" id="gradingTypes_Graded" name="gradingTypes" type="checkbox" value="Graded" @graded>
                                        <label class="govuk-label govuk-checkboxes__label" for="gradingTypes_Graded">
                                            Graded
                                        </label>
                                    </div>
                                    <div class="govuk-checkboxes__item">
                                        <input class="govuk-checkboxes__input" id="gradingTypes_Pass/Fail" name="gradingTypes" type="checkbox" value="Pass/Fail" @passfail>
                                        <label class="govuk-label govuk-checkboxes__label" for="gradingTypes_Pass/Fail">
                                            Pass/Fail
                                        </label>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>

            <div class="accordionExpander">
                <div class="accordionItem">
                    <h3 class="accordionTitle" id="assessment-method">
                        <span class="govuk-visually-hidden">Select filters for </span>
                        <button class="accordionItem__button" type="button">Assessment method</button>
                        <div class="selected-counter"><span id="selected">0</span> selected</div>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon" aria-hidden="true" focusable="false">
                            <path d="m225.84 414.16l256 256c16.683 16.683 43.691 16.683 60.331 0l256-256c16.683-16.683 16.683-43.691 0-60.331s-43.691-16.683-60.331 0l-225.84 225.84-225.84-225.84c-16.683-16.683-43.691-16.683-60.331 0s-16.683 43.691 0 60.331z">
                            </path>
                        </svg>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon--up" aria-hidden="true" focusable="false">
                            <path d="m798.16 609.84l-256-256c-16.683-16.683-43.691-16.683-60.331 0l-256 256c-16.683 16.683-16.683 43.691 0 60.331s43.691 16.683 60.331 0l225.84-225.84 225.84 225.84c16.683 16.683 43.691 16.683 60.331 0s16.683-43.691 0-60.331z">
                            </path>
                        </svg>
                    </h3>

                    <div class="accordionContent">
                        <div class="govuk-form-group">

                            <fieldset class="govuk-fieldset">
                                <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
                                    @foreach (var item in ((QualificationFilterModel)Model.Filters!).AssessmentMethods!)
                                    {
                                        string assmapplied = "";
                                        if (appliedFilters.AssessmentMethods != null && appliedFilters.AssessmentMethods.Any())
                                        {
                                            assmapplied = appliedFilters.AssessmentMethods.Contains(item) ? "checked" : "";
                                        }
                                        <div class="govuk-checkboxes__item">
                                            <input class="govuk-checkboxes__input" id="assessmentMethods_@item" name="assessmentMethods" type="checkbox" value="@item" @assmapplied>
                                            <label class="govuk-label govuk-checkboxes__label" for="assessmentMethods_@item">
                                                @item
                                            </label>
                                        </div>
                                    }
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>

            <div class="accordionExpander">
                <div class="accordionItem">
                    <h3 class="accordionTitle" id="national-availability">
                        <span class="govuk-visually-hidden">Select filters for </span>
                        <button class="accordionItem__button" type="button">National availability</button>
                        <div class="selected-counter"><span id="selected">0</span> selected</div>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon" aria-hidden="true" focusable="false">
                            <path d="m225.84 414.16l256 256c16.683 16.683 43.691 16.683 60.331 0l256-256c16.683-16.683 16.683-43.691 0-60.331s-43.691-16.683-60.331 0l-225.84 225.84-225.84-225.84c-16.683-16.683-43.691-16.683-60.331 0s-16.683 43.691 0 60.331z">
                            </path>
                        </svg>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon--up" aria-hidden="true" focusable="false">
                            <path d="m798.16 609.84l-256-256c-16.683-16.683-43.691-16.683-60.331 0l-256 256c-16.683 16.683-16.683 43.691 0 60.331s43.691 16.683 60.331 0l225.84-225.84 225.84 225.84c16.683 16.683 43.691 16.683 60.331 0s16.683-43.691 0-60.331z">
                            </path>
                        </svg>
                    </h3>
                    <div class="accordionContent">
                        <div class="govuk-form-group">

                            <fieldset class="govuk-fieldset">
                                <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
                                    @{
                                        string eng = "", ni = "", inter = "";
                                        @if (appliedFilters.NationalAvailability != null && appliedFilters.NationalAvailability.Any())
                                        {
                                            eng = appliedFilters.NationalAvailability.Contains("England") ? "checked" : "";
                                            ni = appliedFilters.NationalAvailability.Contains("Northern Ireland") ? "checked" : "";
                                            inter = appliedFilters.NationalAvailability.Contains("International") ? "checked" : "";
                                        }

                                    }
                                    <div class="govuk-checkboxes__item">
                                        <input class="govuk-checkboxes__input" id="nationalAvailability_england" name="nationalAvailability" type="checkbox" value="England" @eng>
                                        <label class="govuk-label govuk-checkboxes__label" for="nationalAvailability_england">
                                            England
                                        </label>

                                    </div>

                                    <div class="govuk-checkboxes__item">
                                        <input class="govuk-checkboxes__input" id="nationalAvailability_ni" name="nationalAvailability" type="checkbox" value="Northern Ireland" @ni>
                                        <label class="govuk-label govuk-checkboxes__label" for="nationalAvailability_ni">
                                            Northern Ireland
                                        </label>

                                    </div>

                                    <div class="govuk-checkboxes__item">
                                        <input class="govuk-checkboxes__input" id="nationalAvailability_international" name="nationalAvailability" type="checkbox" value="International" @inter>
                                        <label class="govuk-label govuk-checkboxes__label" for="nationalAvailability_international">
                                            International
                                        </label>

                                    </div>
                                </div>

                            </fieldset>

                        </div>

                    </div>
                </div>
            </div>

            <div class="accordionExpander">
                <div class="accordionItem">
                    <h3 class="accordionTitle" id="glh">
                        <span class="govuk-visually-hidden">Select filters for </span>
                        <button class="accordionItem__button" type="button">Guided learning hours</button>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon" aria-hidden="true" focusable="false">
                            <path d="m225.84 414.16l256 256c16.683 16.683 43.691 16.683 60.331 0l256-256c16.683-16.683 16.683-43.691 0-60.331s-43.691-16.683-60.331 0l-225.84 225.84-225.84-225.84c-16.683-16.683-43.691-16.683-60.331 0s-16.683 43.691 0 60.331z">
                            </path>
                        </svg>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon--up" aria-hidden="true" focusable="false">
                            <path d="m798.16 609.84l-256-256c-16.683-16.683-43.691-16.683-60.331 0l-256 256c-16.683 16.683-16.683 43.691 0 60.331s43.691 16.683 60.331 0l225.84-225.84 225.84 225.84c16.683 16.683 43.691 16.683 60.331 0s16.683-43.691 0-60.331z">
                            </path>
                        </svg>
                    </h3>
                    <div class="accordionContent">
                        @{
                            int minglh = default, maxglh = default;
                            @if (appliedFilters.MinGuidedLearninghours != null)
                            {
                                minglh = appliedFilters.MinGuidedLearninghours ?? default;
                            }

                            @if (appliedFilters.MaxGuidedLearninghours != null)
                            {
                                maxglh = appliedFilters.MaxGuidedLearninghours ?? default;
                            }
                        }

                        <div class="govuk-form-group">
                            <label class="govuk-label govuk-label--s" for="minGuidedLearninghours">
                                Minimum hours
                            </label>
                            <input class="govuk-input ofq-filters-small-input" id="minGuidedLearninghours" name="minGuidedLearninghours" type="number" inputmode="numeric" size="3" value="@minglh">
                        </div>
                        <div class="govuk-form-group">
                            <label class="govuk-label govuk-label--s" for="maxGuidedLearninghours">
                                Maximum hours
                            </label>
                            <input class="govuk-input ofq-filters-small-input" id="maxGuidedLearninghours" name="maxGuidedLearninghours" type="number" inputmode="numeric" size="3" value="@maxglh">
                        </div>

                    </div>
                </div>
            </div>

            <div class="accordionExpander">
                <div class="accordionItem">
                    <h3 class="accordionTitle" id="tqt">
                        <span class="govuk-visually-hidden">Select filters for </span>
                        <button class="accordionItem__button" type="button">Total qualification time</button>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon" aria-hidden="true" focusable="false">
                            <path d="m225.84 414.16l256 256c16.683 16.683 43.691 16.683 60.331 0l256-256c16.683-16.683 16.683-43.691 0-60.331s-43.691-16.683-60.331 0l-225.84 225.84-225.84-225.84c-16.683-16.683-43.691-16.683-60.331 0s-16.683 43.691 0 60.331z">
                            </path>
                        </svg>
                        <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="0" height="0" class="accordionItem__accordion-icon--up" aria-hidden="true" focusable="false">
                            <path d="m798.16 609.84l-256-256c-16.683-16.683-43.691-16.683-60.331 0l-256 256c-16.683 16.683-16.683 43.691 0 60.331s43.691 16.683 60.331 0l225.84-225.84 225.84 225.84c16.683 16.683 43.691 16.683 60.331 0s16.683-43.691 0-60.331z">
                            </path>
                        </svg>
                    </h3>
                    <div class="accordionContent">
                        @{
                            int mintqt = default, maxtqt = default;
                            @if (appliedFilters.MinTotalQualificationTime != null)
                            {
                                mintqt = appliedFilters.MinGuidedLearninghours ?? default;
                            }
                            @if (appliedFilters.MaxTotalQualificationTime != null)
                            {
                                maxtqt = appliedFilters.MaxTotalQualificationTime ?? default;
                            }
                        }

                        <div class="govuk-form-group">
                            <label class="govuk-label govuk-label--s" for="minTotalQualificationTime">
                                Minimum hours
                            </label>
                            <input class="govuk-input ofq-filters-small-input" id="minTotalQualificationTime" name="minTotalQualificationTime" type="number" inputmode="numeric" size="3" maxlength="3" value="@mintqt">
                        </div>
                        <div class="govuk-form-group">
                            <label class="govuk-label govuk-label--s" for="maxTotalQualificationTime">
                                Maximum hours
                            </label>
                            <input class="govuk-input ofq-filters-small-input" id="maxTotalQualificationTime" name="maxTotalQualificationTime" type="number" inputmode="numeric" size="3" maxlength="3" value="@maxtqt">
                        </div>
                    </div>
                </div>
            </div>
            <noscript>
                <button type="submit" class="govuk-button govuk-!-margin-right-2" data-module="govuk-button">
                    Search
                </button>
            </noscript>
        </form>
    </div>

    <div class="govuk-grid-column-two-thirds">

        <ul id="action-buttons-row" class="ofq-action-buttons--list">
            <li class="ofq-action-buttons--item">
                <a href="#!" role="button" draggable="false" class="govuk-button govuk-button--primary" data-module="govuk-button">
                    Compare selected
                </a>
            </li>
            <li class="ofq-action-buttons--item">
                <a href="#!" role="button" draggable="false" class="govuk-button govuk-button--secondary ofq-button-row-element" data-module="govuk-button">
                    Download results as CSV
                </a>
            </li>
        </ul>

        <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

        @if (Model.List.Results == null || !Model.List.Results.Any())
        {
            <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
            <h2 class="govuk-heading-s">No results</h2>
            <p class="govuk-body-m">
                There are no results for this search query. You should try adjusting your query or the filters selected.
            </p>
        }

        @if (Model.List.Results != null && Model.List.Results.Count() > 0)
        {
            @foreach (var item in Model.List.Results)
            {
                <div class="app-application-cards" aria-live="polite">
                    <section class="app-application-card">
                        <header class="app-application-card__header">
                            <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
                                <div class="govuk-checkboxes__item">
                                    <input class="govuk-checkboxes__input" id="@item.QualificationNumber" name="@item.QualificationNumber" type="checkbox" value="@item.QualificationNumber">
                                    <label class="govuk-label govuk-checkboxes__label" for="@item.QualificationNumber">
                                        @item.Title
                                </div>
                            </div>
                        </header>

                        <div class="govuk-grid-row app-grid-row--flex">
                            <div class="govuk-grid-column-two-thirds">
                                <dl class="app-application-card__list">
                                    <dd class="govuk-body-m">
                                        <a href="Qualification/@item.QualificationNumber">View qualification details</a>
                                    </dd>
                                    <br>
                                    <dt class="govuk-visually-hidden">Availability</dt>
                                    @switch (item.Status?.ToLower())
                                    {
                                        case "available to learners":
                                            <dd class="govuk-tag govuk-tag--green govuk-!-margin-bottom-1 govuk-!-font-size-14">
                                                Available to learners
                                            </dd>
                                            break;
                                        case "not yet available to learners":
                                            <dd class="govuk-tag govuk-tag--blue govuk-!-margin-bottom-1 govuk-!-font-size-14">
                                                Not yet available to learners
                                            </dd>
                                            break;
                                        case "no longer available to new learners":
                                            <dd class="govuk-tag govuk-tag--yellow govuk-!-margin-bottom-1 govuk-!-font-size-14">
                                                No longer available to new learners
                                            </dd>
                                            break;
                                        case "no longer awarded":
                                            <dd class="govuk-tag govuk-tag--grey govuk-!-margin-bottom-1 govuk-!-font-size-14">
                                                No longer awarded
                                            </dd>
                                            break;
                                        default:
                                            break;
                                    }
                                    <dt class="govuk-visually-hidden">Organisation</dt>
                                    <dd class="govuk-body-s govuk-!-margin-bottom-1">@item.OrganisationName</dd>
                                    <dt class="govuk-visually-hidden">Level</dt>
                                    <dd class="govuk-body-s govuk-!-font-size-16">
                                        @item.Level
                                    </dd>
                                </dl>
                            </div>
                        </div>
                    </section>
                </div>

            }
        }

        <partial name="/Views/Shared/_PagingPartial.cshtml" model="Model.Paging" />

    </div>
</div>

@section Scripts {

    <script type="text/javascript">
        const accordionTitles = document.querySelectorAll(".accordionTitle");

        accordionTitles.forEach(accordionTitle => {
            accordionTitle.addEventListener("click", () => {
                accordionTitle.classList.toggle("is-open");
                accordionTitle.parentElement.classList.toggle("is-open")
            })
        })

        // const accordionIcons = document.querySelectorAll(".accordionItem");

        // accordionIcons.forEach(accordionIcon => {
        //     accordionIcon.addEventListener("click", () => {
        //         accordionIcon.classList.toggle("is-open")
        //     })
        // })


        // const selectedElm = document.getElementById('selected');

        // function showChecked() {
        //     selectedElm.innerHTML = document.querySelectorAll('input[name=assessment-method]:checked').length;
        // }

        // document.querySelectorAll("input[name=assessment-method]").forEach(i => {
        //     i.onclick = () => showChecked();
        // });

        var queryFiltersForm = document.querySelector('#qualificationsFilterForm')

        queryFiltersForm.querySelectorAll('input[type="checkbox"]').forEach(i => {
            i.onchange = () => { queryFiltersForm.submit() }
        });

    </script>

}
